<form class="instruction-element-container" id="element-{{element.pk}}"
    hx-post="{% url 'instruction:element_update' instruction.pk element.pk %}" hx-trigger="stop" hx-swap="none">
    <input type="hidden" name="name" value="{{element.name}}">
    <input type="hidden" name="index" value="{{element.index}}">
    <div class="row g-0 instruction-element {% if instruction.template %}template{% endif %}">
        {% if instruction.template %}
        <div class="col-auto my-auto">
            {% include 'icon.html' with iconname="bi-three-dots-vertical" %}
        </div>
        {% endif %}
        <div class="col">
            <form>
                {% include element.template with data=instruction.data action=instruction.type.action agent=agent element=element edit=instruction.template %}
            </form>
        </div>
        {% if instruction.template %}
        <div class="col-auto my-auto" hx-post="{% url 'instruction:element_delete' instruction.pk element.pk %}"
            hx-target="#element-{{element.pk}}" hx-swap="outerHTML">
            {% include 'icon.html' with iconname="bi-trash" %}
        </div>
        <div class="col-auto my-auto" hx-get="{% url 'instruction:element_details' instruction.pk element.pk %}"
            hx-target="#instruction-element-details" hx-swap="innerHTML">
            {% include 'icon.html' with iconname="bi-info-circle" %}
        </div>
        {% endif %}
    </div>
</form>